# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è AIAdvent

## üìã –û–±–∑–æ—Ä

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –≤–∫–ª—é—á–∞—é—â–∞—è:
- **Unit —Ç–µ—Å—Ç—ã** - –¥–ª—è ViewModel, Repository, –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- **UI —Ç–µ—Å—Ç—ã** - –¥–ª—è Compose –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ API
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤** - –ø–æ –∫–æ–º–∞–Ω–¥–µ "run tests" –≤ —á–∞—Ç–µ

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

### **1. –ß–µ—Ä–µ–∑ —á–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AIAdvent
2. –í —á–∞—Ç–µ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: **"run tests"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
4. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### **2. –ß–µ—Ä–µ–∑ Android Studio**

#### **Unit —Ç–µ—Å—Ç—ã:**
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Android Studio
./gradlew test
```

#### **Instrumented —Ç–µ—Å—Ç—ã:**
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Android Studio
./gradlew connectedAndroidTest
```

#### **–í—Å–µ —Ç–µ—Å—Ç—ã:**
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Android Studio
./gradlew check
```

### **3. –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É**

```bash
# Unit —Ç–µ—Å—Ç—ã
./gradlew test

# UI —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ/—ç–º—É–ª—è—Ç–æ—Ä)
./gradlew connectedAndroidTest

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
./gradlew check
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### **Unit —Ç–µ—Å—Ç—ã** (`app/src/test/`)

```
app/src/test/java/com/tayrinn/aiadvent/
‚îú‚îÄ‚îÄ ui/viewmodel/
‚îÇ   ‚îî‚îÄ‚îÄ ChatViewModelTest.kt          # –¢–µ—Å—Ç—ã ViewModel
‚îú‚îÄ‚îÄ data/repository/
‚îÇ   ‚îî‚îÄ‚îÄ ChatRepositoryTest.kt         # –¢–µ—Å—Ç—ã Repository
‚îú‚îÄ‚îÄ data/model/
‚îÇ   ‚îî‚îÄ‚îÄ ModelTest.kt                  # –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ util/
    ‚îî‚îÄ‚îÄ UtilTest.kt                   # –¢–µ—Å—Ç—ã —É—Ç–∏–ª–∏—Ç
```

### **UI —Ç–µ—Å—Ç—ã** (`app/src/androidTest/`)

```
app/src/androidTest/java/com/tayrinn/aiadvent/
‚îî‚îÄ‚îÄ ui/screens/
    ‚îî‚îÄ‚îÄ ChatScreenTest.kt             # UI —Ç–µ—Å—Ç—ã –¥–ª—è ChatScreen
```

### **TestRunner** (`app/src/main/`)

```
app/src/main/java/com/tayrinn/aiadvent/util/
‚îî‚îÄ‚îÄ TestRunner.kt                     # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
```

## üß™ –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

### **1. –ü—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã (SimpleTest)**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ ChatMessage —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ ApiLimits –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –º–æ–¥–µ–ª–µ–π

### **2. TestRunner (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã)**
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–µ—Ç—å, —Ä–µ—Å—É—Ä—Å—ã)

### **3. UI —Ç–µ—Å—Ç—ã (ChatScreenTest)**
- ‚úÖ –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –ù–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –ø–æ–ª—è –≤–≤–æ–¥–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç–æ–≥–æ –≤–≤–æ–¥–∞

### **4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã**
- ‚úÖ –ó–∞–ø—É—Å–∫ –ø–æ –∫–æ–º–∞–Ω–¥–µ "run tests" –≤ —á–∞—Ç–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üìä –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∞—Ö

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã "run tests" –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç:

```
üß™ **TEST REPORT**

üìä **Summary:**
   ‚úÖ Passed: 15
   ‚ùå Failed: 0
   üìà Success Rate: 100.0%
   ‚è±Ô∏è Execution Time: 245ms

üéØ **Status:** ALL TESTS PASSED
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤

### **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

–í `build.gradle.kts` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```kotlin
// Unit —Ç–µ—Å—Ç—ã
testImplementation("org.mockito.kotlin:mockito-kotlin:5.2.1")
testImplementation("org.jetbrains.kotlinx:kotlinx-coroutines-test:1.7.3")
testImplementation("kotlin.test:kotlin-test:1.9.0")

// UI —Ç–µ—Å—Ç—ã
androidTestImplementation("androidx.compose.ui:ui-test-junit4:1.5.4")
androidTestImplementation("androidx.test:runner:1.5.2")
androidTestImplementation("androidx.test:rules:1.5.0")
```

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

–¢–µ—Å—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å:
- **JUnit 4** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Mockito** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–∫–æ–≤
- **Coroutines Test** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- **Compose Test** - –¥–ª—è UI —Ç–µ—Å—Ç–æ–≤

## üêõ –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### **–õ–æ–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

–í—Å–µ —Ç–µ—Å—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è:

```kotlin
Log.d("TestReport", "‚úÖ PASSED: ChatMessage creation")
Log.e("TestReport", "‚ùå FAILED: Repository test")
Log.e("TestReport", "üö® ERROR: Test execution failed")
```

### **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤**

```bash
# –í Android Studio
View -> Tool Windows -> Logcat

# –§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥–∞–º
TestReport
TestRunner
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**

–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏:

```bash
./gradlew createDebugCoverageReport
```

–û—Ç—á–µ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤: `app/build/reports/coverage/debug/index.html`

### **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –∏–∑–º–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –æ–±—â–µ–µ –≤—Ä–µ–º—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤.

## üö® –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### **1. –¢–µ—Å—Ç—ã –≤ —ç–º—É–ª—è—Ç–æ—Ä–µ**
- UI —Ç–µ—Å—Ç—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ –≤ —ç–º—É–ª—è—Ç–æ—Ä–µ
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è UI —Ç–µ—Å—Ç–æ–≤

### **2. –°–µ—Ç–µ–≤—ã–µ —Ç–µ—Å—Ç—ã**
- –¢–µ—Å—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –º–æ–≥—É—Ç –ø–∞–¥–∞—Ç—å –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫–∏ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### **3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è

### **4. –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –æ—à–∏–±–∫–∞ "Room cannot verify the data integrity"
- **–†–µ—à–µ–Ω–∏–µ:** –°–º. —Ñ–∞–π–ª `DATABASE_MIGRATION_README.md` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Ä—Å–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

## üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

### **1. –°–æ–∑–¥–∞–Ω–∏–µ unit —Ç–µ—Å—Ç–∞**

```kotlin
@Test
fun `test new functionality`() {
    // Given
    val input = "test input"
    
    // When
    val result = functionToTest(input)
    
    // Then
    assertEquals("expected result", result)
}
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ UI —Ç–µ—Å—Ç–∞**

```kotlin
@Test
fun testNewUIComponent() {
    composeTestRule.setContent {
        NewComponent()
    }
    
    composeTestRule.onNodeWithText("Expected Text").assertExists()
}
```

### **3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ TestRunner**

```kotlin
private fun testNewFeature(report: TestReport) {
    try {
        // –¢–µ—Å—Ç–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
        report.addPassedTest("New feature test")
    } catch (e: Exception) {
        report.addFailedTest("New feature test: ${e.message}")
    }
}
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Android Testing Guide](https://developer.android.com/training/testing)
- [JUnit 4 Documentation](https://junit.org/junit4/)
- [Mockito Documentation](https://mockito.org/)
- [Compose Testing](https://developer.android.com/jetpack/compose/testing)
- [Coroutines Testing](https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/)

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[DATABASE_MIGRATION_README.md](DATABASE_MIGRATION_README.md)** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è AIAdvent –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- ‚úÖ **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** (–æ–±—ã—á–Ω–æ < 1 —Å–µ–∫—É–Ω–¥—ã)
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω—É—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å** —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫** —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É –≤ —á–∞—Ç–µ
- ‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** –∫–æ–¥–∞

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ **"run tests"** –≤ —á–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è! üöÄ

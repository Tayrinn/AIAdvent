# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - AI Code Analysis & Image Generation Server

## üî• 3 —à–∞–≥–∞ –¥–æ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (–±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–æ—É—Ç–µ—Ä—É)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ngrok (1 –º–∏–Ω—É—Ç–∞)
```bash
./setup_ngrok.sh
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ç—É–Ω–Ω–µ–ª—è
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
./start_server_with_tunnel.sh --server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –∑–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è
./start_server_with_tunnel.sh --tunnel
```

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
Forwarding    https://abc123.ngrok.io -> http://localhost:8080
```

## üéØ –ß—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –ø—É–±–ª–∏—á–Ω–æ–º—É URL

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```
https://abc123.ngrok.io/generate
```
- üé® –§–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
- üé≠ –í—ã–±–æ—Ä —Å—Ç–∏–ª—è (DEFAULT, KANDINSKY, UHD, ANIME)
- üìê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (256x256 –¥–æ 2048x2048)
- üö´ –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
- üí° –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤

### API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```bash
curl -X POST https://abc123.ngrok.io/api/generate-image \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "–∫—Ä–∞—Å–∏–≤—ã–π –∑–∞–∫–∞—Ç –Ω–∞–¥ –≥–æ—Ä–∞–º–∏",
    "style": "DEFAULT",
    "width": 1024,
    "height": 1024
  }'
```

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
```bash
curl -X POST https://abc123.ngrok.io/api/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "code": "fun test() { println(\"Hello\") }",
    "fileName": "Test.kt"
  }'
```

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------------|
| `./setup_ngrok.sh` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ngrok |
| `./start_server_with_tunnel.sh` | –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å —Ç—É–Ω–Ω–µ–ª–µ–º |
| `./generate_image_demo.sh` | –î–µ–º–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| `./test_server.sh` | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π |

## üåê –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (–µ—Å–ª–∏ ngrok –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç)

### LocalTunnel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
```bash
npm install -g localtunnel
npx localtunnel --port 8080
```

### Cloudflare Tunnel
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
brew install cloudflare/cloudflare/cloudflared

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª—è
cloudflared tunnel create my-ai-server
cloudflared tunnel run my-ai-server --url http://localhost:8080
```

### Serveo (—á–µ—Ä–µ–∑ SSH)
```bash
ssh -R 80:localhost:8080 serveo.net
```

## üí∞ –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ - VPS

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø:

1. **DigitalOcean** - –æ—Ç $6/–º–µ—Å—è—Ü
2. **Hetzner** - –æ—Ç ‚Ç¨3/–º–µ—Å—è—Ü
3. **Vultr** - –æ—Ç $2.5/–º–µ—Å—è—Ü

### –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPS:
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Java
sudo apt update && sudo apt install openjdk-17-jdk

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone your-repo
cd AIAdvent

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
./gradlew :shared:runWebServer
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –í—Å–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f server.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
```bash
curl https://your-ngrok-url.ngrok.io/api/health
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
```bash
./test_server.sh
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç 8080
lsof -i :8080

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Java
java -version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á–∏
echo $OPENAI_API_KEY
```

### Ngrok –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
ngrok version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—É–Ω–Ω–µ–ª—å
ngrok http 8080 --log=stdout
```

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–ø–∫—É images
ls -la images/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
grep "üé®" server.log
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à AI —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–∏—Ä–∞! üéä

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞
4. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–∑—å—è–º–∏!

**–ù–µ –∑–∞–±—É–¥—å—Ç–µ:**
- Ngrok –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π URL (–¥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
- –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ VPS
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º API (–ª–∏–º–∏—Ç—ã OpenAI)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–æ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./start_monitor.sh start   # –∑–∞–ø—É—Å—Ç–∏—Ç—å
./start_monitor.sh stop    # –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
./start_monitor.sh status  # –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./start_monitor.sh logs    # –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
./start_monitor.sh restart # –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –Ω–∞–ø—Ä—è–º—É—é
./monitor_service.sh

# –ò–ª–∏ –≤ Docker (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
docker-compose -f docker-compose.monitor.yml up -d
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä:

‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ `http://localhost:8080`  
üåê **–í–Ω–µ—à–Ω—è—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ ngrok —Ç—É–Ω–Ω–µ–ª—å  
üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** - –Ω–∞—Ö–æ–¥–∏—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ ngrok —Ç—É–Ω–Ω–µ–ª–∏  
‚è∞ **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ ping-–∑–∞–ø—Ä–æ—Å—ã** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç—É–Ω–Ω–µ–ª—è  

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
SERVICE_URL=http://host.docker.internal:8080          # –õ–æ–∫–∞–ª—å–Ω—ã–π URL —Å–µ—Ä–≤–∏—Å–∞
NGROK_API_URL=http://host.docker.internal:4040        # API ngrok –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—É–Ω–Ω–µ–ª–µ–π
INTERVAL=180                                          # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫)
EXTERNAL_CHECK_INTERVAL=300                          # –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤–Ω–µ—à–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫)
```

### –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
docker logs ai-advent-monitor

# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω
# ‚úÖ –ù–∞–π–¥–µ–Ω ngrok —Ç—É–Ω–Ω–µ–ª—å: https://abc123.ngrok.io
# ‚úÖ –í–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω: https://abc123.ngrok.io
# ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π ping –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
# ‚úÖ –í–Ω–µ—à–Ω–∏–π ping –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
```

---

üí° **–°–æ–≤–µ—Ç:** –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ ngrok.com –∏ –ø–æ–ª—É—á–∏—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å—É–±–¥–æ–º–µ–Ω!
